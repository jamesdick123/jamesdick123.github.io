<html>
  <head>
    <title>League of Legends Match History UPDATED</title>
  </head>
  <body>
    <h1>League of Legends Match History</h1>
    <form>
      <label for="username">Enter your League of Legends username:</label><br>
      <input type="text" id="username" name="username"><br>
      <button type="button" onclick="fetchMatchHistory()">Fetch match history</button>
    </form>
    <div id="match-history"></div>

    <script>
      function fetchMatchHistory() {
        // Get the user's inputted username
        const username = document.getElementById('username').value;
        
        // Fetch the match history from the Riot Games API
        fetch(`https://euw1.api.riotgames.com/lol/match/v4/matchlists/by-account/${accountId}`, 
        {
        headers: {
        'X-Riot-Token': 'RGAPI-ddb895b7-bba7-4689-92c0-9d255dd04756'
          }
        })

            
        .then(response => response.json())
        .then(data => {
        window.accountId = data.accountId;
        

          // Display the match history on the page
          let matchHistory = '';
          data.matches.forEach(match => {
            matchHistory += `<div>${match.gameId}: ${match.champion}</div>`;
          });
          document.getElementById('match-history').innerHTML = matchHistory;
        })
        .catch(error => {
          console.error(error);
        });
      }
    </script>
  </body>
</html>
